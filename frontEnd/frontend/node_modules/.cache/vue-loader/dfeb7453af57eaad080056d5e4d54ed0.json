{"remainingRequest":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\Login.vue?vue&type=style&index=0&id=ef68022e&lang=less&scoped=true&","dependencies":[{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\Login.vue","mtime":1636200789822},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1630488425476},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1630488427380},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1630488425847},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\less-loader\\dist\\cjs.js","mtime":1630488444156},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1630488426239}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvZ2luX2NvbnRhaW5lciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzJiNGI2YjsKICBoZWlnaHQ6IDEwMCU7Cn0KCi5sb2dpbl9ib3ggewogIHdpZHRoOiA0NTBweDsKICBoZWlnaHQ6IDMwMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiA1MCU7CiAgdG9wOiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CgogIC5hdmF0b3JfYm94IHsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBoZWlnaHQ6IDEzMHB4OwogICAgd2lkdGg6IDEzMHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBib3gtc2hhZG93OiAwIDAgMTBweCAjZGRkOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTcwJSk7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoKICAgIGltZyB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTsKICAgIH0KICB9CgogIC5idG5zIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogIH0KCiAgLmxvZ2luX2Zvcm0gewogICAgZGlzcGxheTogYmxvY2s7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBib3R0b206IDA7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAwIDIwcHg7CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"login_container\">\n    <div class=\"login_box\">\n      <!-- logo -->\n      <div class=\"avator_box\">\n        <img src=\"../assets/logo.png\" alt=\"\" />\n      </div>\n\n      <!-- 登录表单 -->\n      <div>\n        <el-form\n          ref=\"loginFormRef\"\n          :model=\"loginForm\"\n          :rules=\"loginFormRules\"\n          class=\"login_form\"\n        >\n          <!-- 用户名 -->\n          <el-form-item prop=\"username\">\n            <el-input\n              laceholder=\"请输入用户名\"\n              v-model=\"loginForm.username\"\n              prefix-icon=\"el-icon-user-solid\"\n            ></el-input>\n          </el-form-item>\n          <!-- 密码 -->\n          <el-form-item prop=\"password\">\n            <el-input\n              laceholder=\"请输入密码\"\n              v-model=\"loginForm.password\"\n              prefix-icon=\"el-icon-lock\"\n              type=\"password\"\n            ></el-input>\n          </el-form-item>\n          <!-- 按钮区域 -->\n          <el-form-item class=\"btns\">\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\n            <el-button type=\"info\" @click=\"visibility.registerDialog = true\"\n              >注册</el-button\n            >\n            <el-button type=\"info\" @click=\"resetLoginForm\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <el-dialog\n      title=\"添加用户\"\n      :visible.sync=\"visibility.registerDialog\"\n      width=\"70%\"\n    >\n      <el-form\n        :model=\"registerForm\"\n        :rules=\"registerFormRules\"\n        ref=\"registerFormRef\"\n      >\n        <el-form-item label=\"用户名\" prop=\"userName\">\n          <el-input\n            v-model=\"registerForm.userName\"\n            placeholder=\"请输入用户名\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"passwd\">\n          <el-input\n            v-model=\"registerForm.password\"\n            placeholder=\"请输入密码\"\n            show-password\n          ></el-input>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"registerFormSubmit\">注册</el-button>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport respFilter from \"@/components/utils/respFilter\";\n\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: \"ysh0\",\n        password: \"200108\",\n      },\n      loginFormRules: {\n        //验证用户名是否合法\n        username: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\" },\n          { min: 4, max: 30, message: \"长度在4-30之间\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { min: 6, max: 30, message: \"长度在6-30之间\", trigger: \"blur\" },\n        ],\n      },\n      visibility: {\n        registerDialog: true,\n      },\n      registerForm: {\n        userName: \"\",\n        passwd: \"\",\n      },\n      registerFormRules: {\n        userName: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n        ],\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { min: 6, max: 30, message: \"长度在6-30之间\", trigger: \"blur\" },\n          {\n            pattern: \"(?=.*[0-9])(?=.*[a-zA-Z]).{8,30}\",\n            message: \"密码需要包含数字、字母\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    resetLoginForm() {\n      this.$refs.loginFormRef.resetFields();\n    },\n    login() {\n      this.$refs.loginFormRef.validate(async (valid) => {\n        if (!valid) return;\n        const { data: resp } = await this.$http.post(\"/login\", this.loginForm);\n        if (resp.code !== 200) return this.$message.error(\"登录失败\");\n        this.$message.success(\"登录成功\");\n        window.sessionStorage.setItem(\"token\", resp.data.token);\n        this.$router.push(\"/home\");\n      });\n    },\n    async registerFormSubmit() {\n      let { data: resp } = await this.$http.post(\n        \"/register_normal_user\",\n        this.registerForm\n      );\n      console.log(resp);\n      console.log(8966);\n      if (!respFilter(resp)) {\n        console.log(123321);\n        this.$message.error(resp.msg);\n      } else {\n        console.log(123);\n        this.$message.success(\"注册成功\");\n        this.visibility.registerDialog = false;\n      }\n      console.log(23131231);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  background-color: #2b4b6b;\n  height: 100%;\n}\n\n.login_box {\n  width: 450px;\n  height: 300px;\n  background-color: #fff;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  .avator_box {\n    box-sizing: border-box;\n    height: 130px;\n    width: 130px;\n    border: 1px solid #eee;\n    border-radius: 50%;\n    padding: 10px;\n    box-shadow: 0 0 10px #ddd;\n    position: absolute;\n    left: 50%;\n    transform: translate(-50%, -70%);\n    background-color: #fff;\n\n    img {\n      width: 100%;\n      height: 100%;\n      border-radius: 50%;\n      background-color: #eee;\n    }\n  }\n\n  .btns {\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  .login_form {\n    display: block;\n    position: absolute;\n    bottom: 0;\n    box-sizing: border-box;\n    width: 100%;\n    padding: 0 20px;\n  }\n}\n</style>\n"]}]}