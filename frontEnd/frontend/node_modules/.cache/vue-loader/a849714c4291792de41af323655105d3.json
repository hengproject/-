{"remainingRequest":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\manager\\ModifyBasicInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\manager\\ModifyBasicInformation.vue","mtime":1632153331822},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1630488426857},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1630488426239}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXNwRmlsdGVyIGZyb20gIkAvY29tcG9uZW50cy91dGlscy9yZXNwRmlsdGVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW9kaWZ5QmFzaWNJbmZvcm1hdGlvbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hcDogbmV3IE1hcCgpLAogICAgICBjYW1wdXNGb3JtOiBbXSwKICAgICAgZWRpdENhbXB1c0RpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBjYW1wdXNFZGl0OiB7CiAgICAgICAgY2FtcHVzSWQ6ICIiLAogICAgICAgIGNhbXB1c05hbWU6ICIiLAogICAgICAgIGhhc1NvbjogdHJ1ZSwKICAgICAgfSwKICAgICAgZGVsZXRlQ2FtcHVzRHJhd2VyOiBmYWxzZSwKICAgICAgZGVsZXRlQ2FtcHVzRHJhd2VySW5mb0xpc3Q6IFtdLAogICAgICBkZWxldGVDYW1wdXNEcmF3ZXJJZDogIiIsCiAgICAgIG5ld0NhbXB1c05hbWU6ICIiLAogICAgICBhZGRDYW1wdXNEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgYWRkQXJlYURpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBuZXdBcmVhOiB7CiAgICAgICAgYXJlYU5hbWU6ICIiLAogICAgICAgIGNhbXB1c0lkOiAiIiwKICAgICAgfSwKICAgICAgYWRkQXJlYVJ1bGVzOiB7CiAgICAgICAgY2FtcHVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqeagoeWMuiIsIHRyaWdnZXI6ICJibHVyIiB9XSwKICAgICAgICBhcmVhTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWMuuWfn+WQjSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Rm9ybUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ291dCgpIHsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0sCiAgICBhc3luYyBnZXRGb3JtTGlzdCgpIHsKICAgICAgbGV0IHsgZGF0YTogcmVzcCB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KAogICAgICAgICIvbWFuYWdlcl9nZXRfYmFzaWNfaW5mb19saXN0IgogICAgICApOwogICAgICBpZiAoIXJlc3BGaWx0ZXIocmVzcCkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKTsKICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICB9CiAgICAgIHRoaXMuY2FtcHVzRm9ybSA9IHJlc3AuZGF0YS5jYW1wdXNMaXN0OwogICAgfSwKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgYXN5bmMgbG9hZEFyZWEodHJlZSwgdHJlZU5vZGUsIHJlc29sdmUpIHsKICAgICAgbGV0IGlkID0gdHJlZS5jYW1wdXNJZDsKICAgICAgdGhpcy5tYXAuc2V0KGlkLCB7IHRyZWUsIHRyZWVOb2RlLCByZXNvbHZlIH0pOwogICAgICBsZXQgeyBkYXRhOiByZXNwIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoCiAgICAgICAgIi9tYW5hZ2VyX2dldF9iYXNpY19pbmZvX2xpc3RfbGF6eV9nZXRfYXJlYSIsCiAgICAgICAgdHJlZS5jYW1wdXNJZAogICAgICApOwogICAgICBpZiAoIXJlc3BGaWx0ZXIocmVzcCkpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKTsKICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICByZXNvbHZlKHJlc3AuZGF0YSk7CiAgICB9LAogICAgc2hvd0VkaXRDYW1wdXNEaWFsb2cocm93KSB7CiAgICAgIHRoaXMuY2FtcHVzRWRpdC5jYW1wdXNJZCA9IHJvdy5jYW1wdXNJZDsKICAgICAgdGhpcy5jYW1wdXNFZGl0LmNhbXB1c05hbWUgPSByb3cuY2FtcHVzTmFtZTsKICAgICAgdGhpcy5lZGl0Q2FtcHVzRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgY29uZmlybUVkaXRDYW1wdXMoKSB7CiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihwYXJzZUZsb2F0KHRoaXMuY2FtcHVzRWRpdC5jYW1wdXNJZCkpKSB7CiAgICAgICAgY29uc3QgY2FtcHVzSWQgPSB0aGlzLmNhbXB1c0VkaXQuY2FtcHVzSWQuc3BsaXQoIi4iKVswXQogICAgICAgIHRoaXMuY2FtcHVzRWRpdC5jYW1wdXNJZD10aGlzLmNhbXB1c0VkaXQuY2FtcHVzSWQuc3BsaXQoIi4iKVsxXTsKICAgICAgICBsZXQgeyBkYXRhOiByZXNwIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoCiAgICAgICAgICAiL21hbmFnZXJfZWRpdF9hcmVhIiwKICAgICAgICAgIHRoaXMuY2FtcHVzRWRpdAogICAgICAgICk7CiAgICAgICAgaWYgKCFyZXNwRmlsdGVyKHJlc3ApKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKTsKICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuZWRpdENhbXB1c0RpYWxvZ1Zpc2libGU9ZmFsc2U7CiAgICAgICAgdGhpcy5yZWxvYWRBcmVhSW5mbyhjYW1wdXNJZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHsgZGF0YTogcmVzcCB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KAogICAgICAgICAgIi9tYW5hZ2VyX2VkaXRfY2FtcHVzX2luZm9ybWF0aW9uIiwKICAgICAgICAgIHRoaXMuY2FtcHVzRWRpdAogICAgICAgICk7CiAgICAgICAgaWYgKCFyZXNwRmlsdGVyKHJlc3ApKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKTsKICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuZWRpdENhbXB1c0RpYWxvZ1Zpc2libGU9ZmFsc2U7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyByZWxvYWRBcmVhSW5mbyhzdHJpbmdmeUlkKSB7CiAgICAgIGNvbnN0IHsgdHJlZSwgdHJlZU5vZGUsIHJlc29sdmUgfSA9IHRoaXMubWFwLmdldChzdHJpbmdmeUlkKTsKICAgICAgYXdhaXQgdGhpcy5sb2FkQXJlYSh0cmVlLCB0cmVlTm9kZSwgcmVzb2x2ZSk7CiAgICB9LAogICAgYXN5bmMgc2hvd0RlbGV0ZUNhbXB1cyhyb3dJbmZvKSB7CiAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihwYXJzZUZsb2F0KHJvd0luZm8uY2FtcHVzSWQpKSkgewogICAgICAgIGxldCB7IGRhdGE6IHJlc3AgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgKICAgICAgICAgICIvbWFuYWdlcl9kZWxldGVfYXJlYSIsCiAgICAgICAgICByb3dJbmZvLmNhbXB1c0lkLnNwbGl0KCIuIilbMV0KICAgICAgICApOwogICAgICAgIGlmICghcmVzcEZpbHRlcihyZXNwKSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLm1zZyk7CiAgICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgLy8gbGV0IGFycmF5PXRoaXMuJHJlZnMuY2FtcHVzRm9ybVJlZi5zdG9yZS5zdGF0ZXMubGF6eVRyZWVOb2RlTWFwW3BhcnNlSW50KHJvd0luZm8uY2FtcHVzSWQpXTsKICAgICAgICAvLyBsZXQgaW5kZXhPZiA9IGFycmF5LmluZGV4T2Yocm93SW5mbyk7CiAgICAgICAgLy8gbGV0IHNwbGljZUFycmF5ID0gYXJyYXkuc3BsaWNlKGluZGV4T2YsMSk7CiAgICAgICAgbGV0IHN0cmluZ2Z5SWQgPSBwYXJzZUludChyb3dJbmZvLmNhbXB1c0lkKSArICIiOwogICAgICAgIGF3YWl0IHRoaXMucmVsb2FkQXJlYUluZm8oc3RyaW5nZnlJZCk7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5Yy65Z+f5oiQ5YqfIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZWxldGVDYW1wdXNEcmF3ZXIgPSB0cnVlOwogICAgICAgIGxldCB7IGRhdGE6IHJlc3AgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgKICAgICAgICAgICIvbWFuYWdlcl9nZXRfYmFzaWNfaW5mb19saXN0X2xhenlfZ2V0X2FyZWEiLAogICAgICAgICAgcm93SW5mby5jYW1wdXNJZAogICAgICAgICk7CiAgICAgICAgaWYgKCFyZXNwRmlsdGVyKHJlc3ApKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKTsKICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuZGVsZXRlQ2FtcHVzRHJhd2VySW5mb0xpc3QgPSByZXNwLmRhdGE7CiAgICAgICAgdGhpcy5kZWxldGVDYW1wdXNEcmF3ZXJJZCA9IHJvd0luZm8uY2FtcHVzSWQ7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjb25maXJtRGVsZXRlQ2FtcHVzKCkgewogICAgICBsZXQgeyBkYXRhOiByZXNwIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoCiAgICAgICAgIi9tYW5hZ2VyX2RlbGV0ZV9jYW1wdXNfaW5mb3JtYXRpb24iLAogICAgICAgIHRoaXMuZGVsZXRlQ2FtcHVzRHJhd2VySWQKICAgICAgKTsKICAgICAgaWYgKCFyZXNwRmlsdGVyKHJlc3ApKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLm1zZyk7CiAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmiJDlip/liKDpmaQiKTsKICAgICAgdGhpcy5kZWxldGVDYW1wdXNEcmF3ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRGb3JtTGlzdCgpOwogICAgfSwKICAgIGFzeW5jIGNvbmZpcm1BZGRDYW1wdXMoKSB7CiAgICAgIGxldCB7IGRhdGE6IHJlc3AgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgKICAgICAgICAiL21hbmFnZXJfYWRkX2NhbXB1c19pbmZvcm1hdGlvbiIsCiAgICAgICAgdGhpcy5uZXdDYW1wdXNOYW1lCiAgICAgICk7CiAgICAgIGlmICghcmVzcEZpbHRlcihyZXNwKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcC5tc2cpOwogICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIik7CiAgICAgICh0aGlzLm5ld0NhbXB1c05hbWUgPSAiIiksICh0aGlzLmFkZENhbXB1c0RpYWxvZ1Zpc2libGUgPSBmYWxzZSk7CiAgICAgIHRoaXMuZ2V0Rm9ybUxpc3QoKTsKICAgIH0sCiAgICBhc3luYyBjb25maXJtQWRkQXJlYSgpIHsKICAgICAgbGV0IHsgZGF0YTogcmVzcCB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KAogICAgICAgICJtYW5hZ2VyX2FkZF9hcmVhIiwKICAgICAgICB0aGlzLm5ld0FyZWEKICAgICAgKTsKICAgICAgaWYgKCFyZXNwRmlsdGVyKHJlc3ApKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLm1zZyk7CiAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5hZGRBcmVhRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgdGhpcy5yZWxvYWRBcmVhSW5mbyh0aGlzLm5ld0FyZWEuY2FtcHVzSWQpOwogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKnyIpOwogICAgICB0aGlzLm5ld0FyZWEgPSB7CiAgICAgICAgYXJlYU5hbWU6ICIiLAogICAgICAgIGNhbXB1c0lkOiAiIiwKICAgICAgfTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["ModifyBasicInformation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ModifyBasicInformation.vue","sourceRoot":"src/components/manager","sourcesContent":["<script src=\"../../plugins/element.js\"></script>\n<template>\n  <div>\n    <!--  面包屑导航区-->\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>管理员菜单</el-breadcrumb-item>\n      <el-breadcrumb-item>修改基础信息</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!--    卡片视图区域-->\n    <el-card>\n      <!--      添加区-->\n      <el-row :gutter=\"20\">\n        <el-col :span=\"7\">\n          <el-button type=\"primary\" @click=\"addCampusDialogVisible = true\"\n            >添加校区</el-button\n          >\n          <el-button type=\"primary\" @click=\"addAreaDialogVisible = true\"\n            >添加具体区域</el-button\n          >\n        </el-col>\n      </el-row>\n      <el-table\n        :data=\"campusForm\"\n        style=\"width: 100%\"\n        row-key=\"campusId\"\n        border\n        lazy\n        ref=\"campusFormRef\"\n        :load=\"loadArea\"\n        :tree-props=\"{ children: 'son', hasChildren: 'hasSon' }\"\n      >\n        <el-table-column label=\"校区ID\" prop=\"campusId\"></el-table-column>\n        <el-table-column label=\"校区名称\" prop=\"campusName\"></el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-tooltip\n              class=\"item\"\n              effect=\"dark\"\n              content=\"修改校区信息\"\n              placement=\"top\"\n              :enterable=\"false\"\n            >\n              <el-button\n                type=\"primary\"\n                icon=\"el-icon-edit\"\n                size=\"mini\"\n                @click=\"showEditCampusDialog(scope.row)\"\n              ></el-button\n            ></el-tooltip>\n            <el-tooltip\n              class=\"item\"\n              effect=\"dark\"\n              content=\"删除该校区\"\n              placement=\"top\"\n              :enterable=\"false\"\n            >\n              <el-button\n                type=\"danger\"\n                icon=\"el-icon-delete\"\n                size=\"mini\"\n                @click=\"showDeleteCampus(scope.row)\"\n              ></el-button\n            ></el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <!--    添加campus-->\n    <el-dialog\n      title=\"添加校区信息\"\n      :visible.sync=\"addCampusDialogVisible\"\n      width=\"30%\"\n    >\n      <p>校区名</p>\n      <el-input v-model=\"newCampusName\"></el-input>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addCampusDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmAddCampus()\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!--    修改campus-->\n    <el-dialog\n      title=\"修改校区信息\"\n      :visible.sync=\"editCampusDialogVisible\"\n      width=\"30%\"\n    >\n      <el-form>\n        <el-form-item label=\"校区ID\">\n          <br />\n          {{ campusEdit.campusId }}\n        </el-form-item>\n        <el-form-item label=\"校区名\">\n          <el-input v-model=\"campusEdit.campusName\" placeholder=\"请输入校区名\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editCampusDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmEditCampus\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!--    删除campus确定-->\n    <el-drawer title=\"删除确认\" :visible.sync=\"deleteCampusDrawer\" size=\"63%\">\n      <h3 style=\"text-align: center\">确认删除此校区嘛？</h3>\n      <h4 style=\"text-align: center\">以下区域将会被同步删除</h4>\n      <el-table\n        :data=\"deleteCampusDrawerInfoList\"\n        style=\"width: 60%; transform: translateX(50%)\"\n        row-key=\"campusId\"\n      >\n        <el-table-column label=\"区域ID\" prop=\"campusId\"></el-table-column>\n        <el-table-column label=\"区域名称\" prop=\"campusName\"></el-table-column>\n      </el-table>\n      <div class=\"button-center\">\n        <el-button type=\"danger\" @click=\"confirmDeleteCampus()\"\n          >确认删除</el-button\n        >\n        <el-button type=\"info\" @click=\"deleteCampusDrawer = false\"\n          >取消</el-button\n        >\n      </div>\n    </el-drawer>\n    <!--    添加Area-->\n    <el-dialog\n      title=\"添加区域信息\"\n      :visible.sync=\"addAreaDialogVisible\"\n      width=\"30%\"\n    >\n      <el-form :model=\"newArea\" :rules=\"addAreaRules\">\n        <el-form-item label=\"校区\" prop=\"campus\">\n          <el-select v-model=\"newArea.campusId\">\n            <el-option\n              v-for=\"campus in campusForm\"\n              :key=\"campus.campusId\"\n              :label=\"campus.campusName\"\n              :value=\"campus.campusId\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"区域名\" prop=\"areaName\">\n          <el-input\n            v-model=\"newArea.areaName\"\n            placeholder=\"请输入区域名\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addAreaDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmAddArea()\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport respFilter from \"@/components/utils/respFilter\";\n\nexport default {\n  name: \"ModifyBasicInformation\",\n  data() {\n    return {\n      map: new Map(),\n      campusForm: [],\n      editCampusDialogVisible: false,\n      campusEdit: {\n        campusId: \"\",\n        campusName: \"\",\n        hasSon: true,\n      },\n      deleteCampusDrawer: false,\n      deleteCampusDrawerInfoList: [],\n      deleteCampusDrawerId: \"\",\n      newCampusName: \"\",\n      addCampusDialogVisible: false,\n      addAreaDialogVisible: false,\n      newArea: {\n        areaName: \"\",\n        campusId: \"\",\n      },\n      addAreaRules: {\n        campus: [{ required: true, message: \"请选择校区\", trigger: \"blur\" }],\n        areaName: [\n          { required: true, message: \"请输入区域名\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  created() {\n    this.getFormList();\n  },\n  methods: {\n    logout() {\n      window.sessionStorage.clear();\n      this.$router.push(\"/login\");\n    },\n    async getFormList() {\n      let { data: resp } = await this.$http.post(\n        \"/manager_get_basic_info_list\"\n      );\n      if (!respFilter(resp)) {\n        this.$message.error(resp.msg);\n        this.logout();\n      }\n      this.campusForm = resp.data.campusList;\n    },\n    // eslint-disable-next-line no-unused-vars\n    async loadArea(tree, treeNode, resolve) {\n      let id = tree.campusId;\n      this.map.set(id, { tree, treeNode, resolve });\n      let { data: resp } = await this.$http.post(\n        \"/manager_get_basic_info_list_lazy_get_area\",\n        tree.campusId\n      );\n      if (!respFilter(resp)) {\n        this.$message.error(resp.msg);\n        this.logout();\n        return;\n      }\n      resolve(resp.data);\n    },\n    showEditCampusDialog(row) {\n      this.campusEdit.campusId = row.campusId;\n      this.campusEdit.campusName = row.campusName;\n      this.editCampusDialogVisible = true;\n    },\n    async confirmEditCampus() {\n      if (!Number.isInteger(parseFloat(this.campusEdit.campusId))) {\n        const campusId = this.campusEdit.campusId.split(\".\")[0]\n        this.campusEdit.campusId=this.campusEdit.campusId.split(\".\")[1];\n        let { data: resp } = await this.$http.post(\n          \"/manager_edit_area\",\n          this.campusEdit\n        );\n        if (!respFilter(resp)) {\n          this.$message.error(resp.msg);\n          this.logout();\n          return;\n        }\n        this.editCampusDialogVisible=false;\n        this.reloadAreaInfo(campusId);\n      } else {\n        let { data: resp } = await this.$http.post(\n          \"/manager_edit_campus_information\",\n          this.campusEdit\n        );\n        if (!respFilter(resp)) {\n          this.$message.error(resp.msg);\n          this.logout();\n          return;\n        }\n        this.editCampusDialogVisible=false;\n        this.$message.success(\"修改成功\");\n        this.$router.go(0);\n      }\n    },\n    async reloadAreaInfo(stringfyId) {\n      const { tree, treeNode, resolve } = this.map.get(stringfyId);\n      await this.loadArea(tree, treeNode, resolve);\n    },\n    async showDeleteCampus(rowInfo) {\n      if (!Number.isInteger(parseFloat(rowInfo.campusId))) {\n        let { data: resp } = await this.$http.post(\n          \"/manager_delete_area\",\n          rowInfo.campusId.split(\".\")[1]\n        );\n        if (!respFilter(resp)) {\n          this.$message.error(resp.msg);\n          this.logout();\n          return;\n        }\n\n        // let array=this.$refs.campusFormRef.store.states.lazyTreeNodeMap[parseInt(rowInfo.campusId)];\n        // let indexOf = array.indexOf(rowInfo);\n        // let spliceArray = array.splice(indexOf,1);\n        let stringfyId = parseInt(rowInfo.campusId) + \"\";\n        await this.reloadAreaInfo(stringfyId);\n        return this.$message.success(\"删除区域成功\");\n      } else {\n        this.deleteCampusDrawer = true;\n        let { data: resp } = await this.$http.post(\n          \"/manager_get_basic_info_list_lazy_get_area\",\n          rowInfo.campusId\n        );\n        if (!respFilter(resp)) {\n          this.$message.error(resp.msg);\n          this.logout();\n          return;\n        }\n        this.deleteCampusDrawerInfoList = resp.data;\n        this.deleteCampusDrawerId = rowInfo.campusId;\n      }\n    },\n    async confirmDeleteCampus() {\n      let { data: resp } = await this.$http.post(\n        \"/manager_delete_campus_information\",\n        this.deleteCampusDrawerId\n      );\n      if (!respFilter(resp)) {\n        this.$message.error(resp.msg);\n        this.logout();\n        return;\n      }\n      this.$message.success(\"成功删除\");\n      this.deleteCampusDrawer = false;\n      this.getFormList();\n    },\n    async confirmAddCampus() {\n      let { data: resp } = await this.$http.post(\n        \"/manager_add_campus_information\",\n        this.newCampusName\n      );\n      if (!respFilter(resp)) {\n        this.$message.error(resp.msg);\n        this.logout();\n        return;\n      }\n      this.$message.success(\"添加成功\");\n      (this.newCampusName = \"\"), (this.addCampusDialogVisible = false);\n      this.getFormList();\n    },\n    async confirmAddArea() {\n      let { data: resp } = await this.$http.post(\n        \"manager_add_area\",\n        this.newArea\n      );\n      if (!respFilter(resp)) {\n        this.$message.error(resp.msg);\n        this.logout();\n        return;\n      }\n      this.addAreaDialogVisible = false;\n\n      this.reloadAreaInfo(this.newArea.campusId);\n      this.$message.success(\"添加成功\");\n      this.newArea = {\n        areaName: \"\",\n        campusId: \"\",\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.button-center {\n  margin: 20px 0;\n  transform: translateX(37%);\n}\n</style>\n"]}]}