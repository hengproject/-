{"remainingRequest":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\Home.vue","mtime":1631933116206},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1630488426857},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1630488426239}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L0RBVEEvcHJvamVjdHMvXHU2NTcwXHU2MzZFXHU1RTkzXHU1QjlFXHU0RTYwL2Zyb250RW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyBhdXRoIGZyb20gIi4vdXRpbHMvYXV0aCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gIOiPnOWNleaVsOaNrgogICAgICBtZW51TGlzdDogW10sCiAgICAgIGlzQ29sbGFwc2U6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TWVudUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfSwKICAgIGdldE1lbnVMaXN0OiBmdW5jdGlvbiBnZXRNZW51TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkaHR0cCRnZSwgcmVzcCwgbWVudTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAuZ2V0KCIvbWVudXMiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJCRodHRwJGdlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlc3AgPSBfeWllbGQkX3RoaXMkJGh0dHAkZ2UuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSA0MDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcC5tc2cpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcC5jb2RlICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgLy90aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AubXNnKQogICAgICAgICAgICAgICAgbWVudSA9IGF1dGguZGVmYXVsdC5nZXRNZW51QnlBdXRoKHJlc3AuZGF0YSk7CiAgICAgICAgICAgICAgICBfdGhpcy5tZW51TGlzdCA9IG1lbnU7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b2dnbGVDb2xsYXBzZTogZnVuY3Rpb24gdG9nZ2xlQ29sbGFwc2UoKSB7CiAgICAgIHRoaXMuaXNDb2xsYXBzZSA9ICF0aGlzLmlzQ29sbGFwc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,OAAA,KAAA,IAAA,MAAA,cAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,WAAA;AACA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,MAAA,MAAA,CAAA,cAAA,CAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAJA;AAKA,IAAA,WALA,yBAKA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,QAAA,CADA;;AAAA;AAAA;AACA,gBAAA,IADA,yBACA,IADA;;AAEA,oBAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA;;AACA,kBAAA,KAAA,CAAA,MAAA;AACA;;AALA,sBAMA,IAAA,CAAA,IAAA,KAAA,GANA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAMA;AACA,gBAAA,IAPA,GAOA,IAAA,CAAA,OAAA,CAAA,aAAA,CAAA,IAAA,CAAA,IAAA,CAPA;AAQA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAdA;AAeA,IAAA,cAfA,4BAeA;AACA,WAAA,UAAA,GAAA,CAAA,KAAA,UAAA;AACA;AAjBA;AAXA,CAAA","sourcesContent":["<template>\n  <el-container class=\"home-container\">\n    <!--      头部区域-->\n    <el-header>\n      <div><img src=\"../assets/logo.png\" class=\"logo\" /></div>\n      <p class=\"header-text\">流浪动物管理系统</p>\n      <el-button type=\"info\" @click=\"this.$logout()\">退出</el-button></el-header\n    >\n\n    <el-container>\n      <el-aside :width=\"isCollapse ? '64px' : '200px'\">\n        <!--        折叠展开-->\n        <div class=\"toggle-button\" @click=\"toggleCollapse\">|||</div>\n\n        <!--        侧边栏菜单区-->\n        <el-menu\n          background-color=\"#545c64\"\n          text-color=\"#fff\"\n          active-text-color=\"#ffd04b\"\n          unique-opened\n          :collapse=\"isCollapse\"\n          :collapse-transition=\"false\"\n          router\n        >\n          <!--  一级菜单-->\n          <el-submenu\n            :index=\"item._id\"\n            v-for=\"item in menuList\"\n            :key=\"item._id\"\n          >\n            <!--  一级菜单模板区-->\n            <template slot=\"title\">\n              <!-- 图标-->\n              <i class=\"el-icon-user-solid\"></i>\n              <!--文本-->\n              <span>{{ item._authName }}</span>\n            </template>\n            <!--     二级菜单       -->\n            <el-menu-item\n              v-for=\"subItem in item._children\"\n              :key=\"subItem._id\"\n              :index=\"subItem._path\"\n            >\n              <!-- 图标-->\n              <i class=\"el-icon-right\"></i>\n              <!--文本-->\n              <span>{{ subItem._authName }}</span>\n            </el-menu-item>\n          </el-submenu>\n        </el-menu></el-aside\n      >\n      <el-main><router-view></router-view></el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport * as auth from \"./utils/auth\";\n\nexport default {\n  data() {\n    return {\n      //  菜单数据\n      menuList: [],\n      isCollapse: false,\n    };\n  },\n  created() {\n    this.getMenuList();\n  },\n  methods: {\n    logout() {\n      window.sessionStorage.clear();\n      this.$router.push(\"/login\");\n    },\n    async getMenuList() {\n      const { data: resp } = await this.$http.get(\"/menus\");\n      if (resp.code === 401) {\n        this.$message.error(resp.msg);\n        this.logout();\n      }\n      if (resp.code !== 200) return; //this.$message.error(resp.msg)\n      let menu = auth.default.getMenuByAuth(resp.data);\n      this.menuList = menu;\n    },\n    toggleCollapse() {\n      this.isCollapse = !this.isCollapse;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.home-container {\n  height: 100%;\n}\n.el-header {\n  background-color: #373d41;\n  display: flex;\n  justify-content: space-between;\n  padding-left: 0;\n  align-items: center;\n  color: #fff;\n  .header-text {\n    margin-left: 20px;\n    font-size: 20px;\n  }\n  div {\n    border-radius: 50%;\n    overflow: hidden;\n    .logo {\n      width: 60px;\n      height: 60px;\n    }\n  }\n}\n.el-aside {\n  background-color: #545c64;\n  .el-menu {\n    border-right: 0px;\n  }\n  .toggle-button {\n    background-color: #4a5064;\n    font-size: 10px;\n    line-height: 24px;\n    color: #fff;\n    text-align: center;\n    letter-spacing: 0.2em;\n    cursor: pointer;\n  }\n}\n.el-main {\n  background-color: #eaedf1;\n}\n</style>\n"],"sourceRoot":"src/components"}]}