{"remainingRequest":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\superUser\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\src\\components\\superUser\\Users.vue","mtime":1631027921914},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1630488426857},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630488426001},{"path":"C:\\DATA\\projects\\数据库实习\\frontEnd\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1630488426239}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L0RBVEEvcHJvamVjdHMvXHU2NTcwXHU2MzZFXHU1RTkzXHU1QjlFXHU0RTYwL2Zyb250RW5kL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vICDojrflj5blrqLmiLfliJfooajlj4LmlbDlr7nosaEKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgcGFnZU51bTogMCwKICAgICAgICBwYWdlU2l6ZTogMgogICAgICB9LAogICAgICB1c2VyTGlzdDogW10sCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFVzZXJMaXN0OiBmdW5jdGlvbiBnZXRVc2VyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkaHR0cCRwbywgcmVzcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGh0dHAucG9zdCgiL3N1cGVydXNlcl9nZXRVc2VyTGlzdCIsIF90aGlzLnF1ZXJ5SW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkaHR0cCRwbyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXNwID0gX3lpZWxkJF90aGlzJCRodHRwJHBvLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcC5jb2RlID09PSA0MDMgfHwgcmVzcC5jb2RlID09PSA0MDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLmRhdGEubXNnKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpOwogICAgICAgICAgICAgICAgICBfdGhpcy51c2VyTGlzdCA9IHJlc3AuZGF0YS51OwogICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3AuZGF0YS52LnVzZXJOdW07CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnRvdGFsKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v55uR5ZCscGFnZXNpemXmlLnlj5gKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UobmV3UGFnZVNpemUpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSBuZXdQYWdlU2l6ZTsKICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZU51bSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTnVtID0gbmV3UGFnZU51bSAtIDE7CiAgICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICAgIH0sCiAgICAvL+ebkeWQrHN3aXRjaOeKtuaAgeW8gOWFs+eKtuaAgeeahOaUueWPmAogICAgdXNlclN0YWdlQ2hhbmdlOiBmdW5jdGlvbiB1c2VyU3RhZ2VDaGFuZ2UodXNlckluZm8pIHsKICAgICAgY29uc29sZS5sb2codXNlckluZm8pOwogICAgICB0aGlzLiRodHRwLnBvc3QoInN1cGVydXNlcl9sb2dpbl9vcl9sb2dvdXQiLCB7CiAgICAgICAgdXNlckR0bzogdXNlckluZm8udXNlckR0bywKICAgICAgICBvbmxpbmU6IHVzZXJJbmZvLm9ubGluZQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,OAAA,EAAA,CADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,KAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,WAAA;AACA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,IAAA,CACA,wBADA,EAEA,KAAA,CAAA,SAFA,CADA;;AAAA;AAAA;AACA,gBAAA,IADA,yBACA,IADA;;AAAA,sBAKA,IAAA,CAAA,IAAA,KAAA,GAAA,IAAA,IAAA,CAAA,IAAA,KAAA,GALA;AAAA;AAAA;AAAA;;AAAA,iDAMA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CANA;;AAAA;AAOA,oBAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA;AACA,kBAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA,OAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,KAAA;AACA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAdA;AAeA;AACA,IAAA,gBAhBA,4BAgBA,WAhBA,EAgBA;AACA,WAAA,SAAA,CAAA,QAAA,GAAA,WAAA;AACA,WAAA,WAAA;AACA,KAnBA;AAoBA,IAAA,mBApBA,+BAoBA,UApBA,EAoBA;AACA,WAAA,SAAA,CAAA,OAAA,GAAA,UAAA,GAAA,CAAA;AACA,WAAA,WAAA;AACA,KAvBA;AAwBA;AACA,IAAA,eAzBA,2BAyBA,QAzBA,EAyBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,2BAAA,EAAA;AAAA,QAAA,OAAA,EAAA,QAAA,CAAA,OAAA;AAAA,QAAA,MAAA,EAAA,QAAA,CAAA;AAAA,OAAA;AAEA;AA7BA;AAfA,CAAA","sourcesContent":["<template>\n  <div>\n    <!--  面包屑导航区-->\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>超级用户菜单</el-breadcrumb-item>\n      <el-breadcrumb-item>修改用户信息</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!--    卡片视图区域-->\n    <el-card>\n      <el-row :gutter=\"20\">\n        <!--        搜索与添加区域-->\n        <el-col :span=\"7\">\n          <el-input placeholder=\"请输入内容\">\n            <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-button type=\"primary\">添加用户</el-button>\n        </el-col>\n      </el-row>\n      <el-table :data=\"userList\" border stripe>\n        <el-table-column label=\"#\" type=\"index\" align=\"center\">\n        </el-table-column>\n\n        <el-table-column label=\"用户管理\" align=\"center\">\n          <el-table-column\n            label=\"用户ID\"\n            prop=\"userLogin.userId\"\n          ></el-table-column>\n          <el-table-column\n            label=\"用户名称\"\n            prop=\"userLogin.username\"\n          ></el-table-column>\n          <el-table-column\n            label=\"用户密码\"\n            prop=\"userLogin.password\"\n          ></el-table-column>\n          <el-table-column\n            label=\"用户组\"\n            prop=\"userDto.userGroupEnum\"\n          ></el-table-column>\n        </el-table-column>\n\n        <el-table-column label=\"操作员管理\" align=\"center\">\n          <el-table-column\n            label=\"操作员ID\"\n            prop=\"staffDto.staffId\"\n          ></el-table-column>\n          <el-table-column\n            label=\"操作员ID\"\n            prop=\"staffDto.staffId\"\n          ></el-table-column>\n          <el-table-column\n            label=\"操作员姓名\"\n            prop=\"staffDto.staffName\"\n          ></el-table-column>\n          <el-table-column\n            label=\"操作员类别\"\n            prop=\"staffDto.staffIdentityEnum\"\n          ></el-table-column>\n        </el-table-column>\n        <el-table-column label=\"具体操作\" align=\"center\">\n          <el-table-column label=\"在线状态\">\n            <template slot-scope=\"scope\">\n              <el-switch v-model=\"scope.row.online\" @change=\"userStageChange(scope.row)\"></el-switch>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\">\n            <template slot-scope=\"\">\n              <el-button-group>\n                <el-tooltip\n                  class=\"item\"\n                  effect=\"dark\"\n                  content=\"修改用户信息\"\n                  placement=\"top\"\n                  :enterable=\"false\"\n                >\n                  <el-button\n                    type=\"primary\"\n                    icon=\"el-icon-edit\"\n                    size=\"mini\"\n                  ></el-button\n                ></el-tooltip>\n                <el-tooltip\n                  class=\"item\"\n                  effect=\"dark\"\n                  content=\"删除该用户(包括员工信息)\"\n                  placement=\"top\"\n                  :enterable=\"false\"\n                >\n                  <el-button\n                    type=\"danger\"\n                    icon=\"el-icon-delete\"\n                    size=\"mini\"\n                  ></el-button\n                ></el-tooltip>\n              </el-button-group>\n            </template>\n          </el-table-column>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pageNum + 1\"\n        :page-sizes=\"[2, 3, 5, 10]\"\n        :page-size=\"queryInfo.pageSize\"\n        :total=\"total\"\n        layout=\"total,sizes, prev, pager, next, jumper\"\n      >\n      </el-pagination>\n    </el-card>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      //  获取客户列表参数对象\n      queryInfo: {\n        pageNum: 0,\n        pageSize: 2,\n      },\n      userList: [],\n      total: 0,\n    };\n  },\n  created() {\n    this.getUserList();\n  },\n  methods: {\n    async getUserList() {\n      let { data: resp } = await this.$http.post(\n        \"/superuser_getUserList\",\n        this.queryInfo\n      );\n      if (resp.code === 403 || resp.code === 401)\n        return this.$message.error(resp.data.msg);\n      if (resp.code === 200) {\n        console.log(resp.data);\n        this.userList = resp.data.u;\n        this.total = resp.data.v.userNum;\n        console.log(this.total);\n      }\n    },\n    //监听pagesize改变\n    handleSizeChange(newPageSize) {\n      this.queryInfo.pageSize = newPageSize;\n      this.getUserList();\n    },\n    handleCurrentChange(newPageNum) {\n      this.queryInfo.pageNum = newPageNum - 1;\n      this.getUserList();\n    },\n    //监听switch状态开关状态的改变\n    userStageChange(userInfo) {\n      console.log(userInfo);\n      this.$http.post(\"superuser_login_or_logout\",{userDto: userInfo.userDto,online:userInfo.online})\n\n    }\n  },\n};\n</script>\n\n<style scoped>\n.el-button-group{\n  display: flex;\n  justify-content: space-between;\n}\n</style>\n"],"sourceRoot":"src/components/superUser"}]}